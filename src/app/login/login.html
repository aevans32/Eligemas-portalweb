<div class="page-container">
  <app-header></app-header>
  <div class="title-container">
    <div class="title">
      <span>Inicia sesion para comenzar!</span>
    </div>
  </div>

  <div class="content-wrapper">
    
    <div class="content-container">
      <div class="card">
        <!-- <div class="form-title-container">
          <span>INICIO DE SESIÓN</span>
        </div> -->
        <form [formGroup]="loginForm">
          
          <!-- Apartado de texto email -->
          <mat-form-field class="email" appearance="outline">
            <mat-label>Email</mat-label>
            <input type="email" matInput formControlName="email" />
            @if(loginForm.controls.email.hasError('required')){
              <mat-error>Email es requerido</mat-error>
            } 
            @if(loginForm.controls.email.hasError('email')){
              <mat-error>Ingresa un email valido</mat-error>
            }
          </mat-form-field>

          <!-- Apartado de texto password -->
          <mat-form-field appearance="outline">
            <mat-label>Contraseña</mat-label>

            <input
              matInput
              [type]="hidePassword ? 'password' : 'text'"
              formControlName="password"
            />

            <button
              mat-icon-button
              matSuffix
              type="button"
              (click)="hidePassword = !hidePassword"
              [attr.aria-label]="hidePassword ? 'Mostrar contraseña' : 'Ocultar contraseña'"
              [attr.aria-pressed]="!hidePassword"
            >
              <mat-icon>
                {{ hidePassword ? 'visibility' : 'visibility_off' }}
              </mat-icon>
            </button>

            @if(loginForm.controls.password.hasError('required')){
              <mat-error>Contraseña es requerida</mat-error>
            }
            @if(loginForm.controls.password.hasError('minlength')){
              <mat-error>La contraseña debe tener al menos 8 caracteres</mat-error>
            }
          </mat-form-field>


          <div class="forgot-password">

            <!-- Reset password -->
            <span class="link" (click)="forgotPassword()">
              ¿Olvidaste tu contraseña?
            </span>

            <br />

            <!-- Signup -->
            <span class="link" routerLink="/signup">
              ¿No tienes una cuenta? Regístrate!
            </span>

          </div>

          <div class="action-button-container">
            <button
              class="action-button"
              type="button"
              mat-flat-button
              (click)="login()"
              [disabled]="loginForm.invalid"
            >
              INGRESAR
            </button>
          </div>

          
        </form>
      </div>
    </div>
  </div> <!--End of content-wrapper-->

<app-footer></app-footer>  
</div>
